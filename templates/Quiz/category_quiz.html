{% extends "Login/base.html" %}

{% load staticfiles %}

{% block title %}Challenge{% endblock %}

{% block header %}
<script src="{% static "js/jquery.min.js" %}"></script>
<script src="{% static "js/jquery.countdown360.js" %}" type="text/javascript" charset="utf-8"></script>


<script type="text/javascript">
window.onload = function timedText() {
    var t1 = setTimeout(function()
      {document.getElementById("bar").className = 
      "progress-bar progress-bar-warning";
      document.getElementById("bar").style["width"] = "20%"; },1000);
    var t1 = setTimeout(function()
      {document.getElementById("bar").className = 
      "progress-bar progress-bar-info";
      document.getElementById("bar").style["width"] = "40%"; },2000);
    var t1 = setTimeout(function()
      {document.getElementById("bar").className = 
      "progress-bar progress-bar-success";
      document.getElementById("bar").style["width"] = "60%"; },3000);
    var t1 = setTimeout(function()
      {document.getElementById("bar").className = 
      "progress-bar progress-bar-primary";
      document.getElementById("bar").style["width"] = "80%"; },4000);
    var t1 = setTimeout(function()
      {document.getElementById("bar").className = 
      "progress-bar progress-bar-danger";
      document.getElementById("bar").style["width"] = "100%";
      document.getElementById("members").style["visibility"] = ""; 
      document.getElementById("waiting").innerHTML = "Choose an opponent...";
      },5000);
}


</script>


{% endblock %}


{% block content %}

<div class="container">
<br><br>

<div class="col-md-8">

<h1>Category : {{ category }}</h1>

<h3 id="waiting">Waiting for your opponent!!!</h3>



<hr>

<div class="progress progress-striped active" id="progressBar">
  <div id="bar" class="progress-bar progress-bar-danger"  role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
    <span class="sr-only">75% Complete</span>
  </div>
</div>

<br><br>

<div class="col-md-6" id="members" style="visibility:hidden;">

{% for m in category_quiz.members.all %}
<a href="/quiz/start_quiz/?id={{ category.pk }}&member={{ m.userID }}" class="btn btn-lg btn-info btn-block">
{{ m }}
</a>
{% endfor %}

</div>


</div>

	<div id="countdown"></div>

<script type="text/javascript" charset="utf-8">
	      $("#countdown").countdown360({
         radius      : 60,
           seconds     : 5,
           fontColor   : '#FFFFFF',
           autostart   : false,
           onComplete  : function () { console.log('done') }
      }).start()
</script>



</div>


{% endblock %}
